<Window
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	x:Class="DoubanFM.LyricsWindow"
	x:Name="Window"
	Title="LyricsWindow" Background="{x:Null}" ShowInTaskbar="False" Topmost="True" AllowsTransparency="True" WindowStyle="None" ResizeMode="NoResize" Left="{Binding Path=Left, Source={StaticResource {x:Static SystemParameters.WorkAreaKey}}}" Top="{Binding Path=Top, Source={StaticResource {x:Static SystemParameters.WorkAreaKey}}}" Width="{Binding Path=Width, Source={StaticResource {x:Static SystemParameters.WorkAreaKey}}}" Height="{Binding Path=Height, Source={StaticResource {x:Static SystemParameters.WorkAreaKey}}}">
	<Window.Resources>
		<Storyboard x:Key="ChangeLyricsStoryboard">
			<DoubleAnimationUsingKeyFrames Storyboard.TargetName="Window" Storyboard.TargetProperty="Opacity">
				<LinearDoubleKeyFrame Value="0" KeyTime="0:0:0.3"/>
				<EasingDoubleKeyFrame Value="1" KeyTime="0:0:0.6" EasingFunction="{StaticResource Smooth}"/>
			</DoubleAnimationUsingKeyFrames>
			<StringAnimationUsingKeyFrames Storyboard.TargetName="CurrentLyrics" Storyboard.TargetProperty="Text">
				<DiscreteStringKeyFrame KeyTime="0:0:0.3"/>
			</StringAnimationUsingKeyFrames>
		</Storyboard>
		<Storyboard x:Key="HideLyricsStoryboard">
			<DoubleAnimationUsingKeyFrames Storyboard.TargetName="Window" Storyboard.TargetProperty="Opacity">
				<LinearDoubleKeyFrame Value="0" KeyTime="0:0:0.3"/>
			</DoubleAnimationUsingKeyFrames>
			<StringAnimationUsingKeyFrames Storyboard.TargetName="CurrentLyrics" Storyboard.TargetProperty="Text">
				<DiscreteStringKeyFrame KeyTime="0:0:0.3" Value=""/>
			</StringAnimationUsingKeyFrames>
		</Storyboard>
	</Window.Resources>

	<Grid x:Name="LayoutRoot">
		<Grid.Effect>
			<DropShadowEffect x:Name="ShadowEffect"/>
		</Grid.Effect>
		<Viewbox x:Name="viewbox" StretchDirection="DownOnly" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="50,0,50,20">
			<Grid>
				<Path x:Name="PathText" Stroke="#7F000000" StrokeThickness="1" Fill="{Binding Foreground, ElementName=CurrentLyrics}"/>
				<TextBlock x:Name="CurrentLyrics" FontFamily="{Binding ElementName=Window, Path=LyricsSetting.FontFamily}" FontSize="{Binding ElementName=Window, Path=LyricsSetting.FontSize}" FontStyle="{Binding ElementName=Window, Path=LyricsSetting.FontStyle}" FontWeight="{Binding ElementName=Window, Path=LyricsSetting.FontWeight}" LayoutUpdated="CurrentLyrics_LayoutUpdated" Visibility="Hidden" />
			</Grid>
		</Viewbox>
	</Grid>
</Window>